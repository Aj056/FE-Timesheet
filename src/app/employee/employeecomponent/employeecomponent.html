<!-- Professional Dashboard Layout inspired by modern design principles -->
<div class="dashboard-wrapper" [attr.data-theme]="isDarkTheme ? 'dark' : 'light'">
  <!-- Sidebar Navigation -->
  <div class="sidebar">
    <!-- Brand Section -->
    <div class="sidebar-brand">
      <div class="brand-logo">
           <img src="https://willwaretech.com/wp-content/uploads/2025/01/Untitled-1140-x-350-px-1.png" alt="Logo"
    class="logo__image">
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="sidebar-nav">
      <ul class="nav-list">
        <li class="nav-section-title">MAIN MENU</li>
        <li class="nav-item active">
          <a  class="nav-link">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
              </svg>
            </div>
            <span class="nav-text">Dashboard</span>
            
          </a>
        </li>
        <li class="nav-item">
          <a  class="nav-link" (click)="viewAttendanceHistory()">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zm2-7h-3V2h-2v2H8V2H6v2H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H3V9h14v11z"/>
              </svg>
            </div>
            <span class="nav-text">Attendance</span>
          </a>
        </li>
        <li class="nav-item">
          <a  class="nav-link" (click)="viewProfile()">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
              </svg>
            </div>
            <span class="nav-text">Profile</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="viewPayslip()">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
              </svg>
            </div>
            <span class="nav-text">Payslip</span>
          </a>
        </li>
      </ul>

      <ul class="nav-list">
        <li class="nav-section-title">SETTINGS</li>
        <li class="nav-item">
          <a  class="nav-link" (click)="toggleTheme()">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12,18C11.11,18 10.26,17.8 9.5,17.45C11.56,16.5 13,14.42 13,12C13,9.58 11.56,7.5 9.5,6.55C10.26,6.2 11.11,6 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31L23.31,12L20,8.69Z"/>
              </svg>
            </div>
            <span class="nav-text">{{ isDarkTheme ? 'Light Mode' : 'Dark Mode' }}</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- User Profile Section -->
    <div class="sidebar-user">
      <div class="user-avatar">
        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face" 
             alt="User Avatar" 
             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
        <div class="avatar-fallback" style="display:none">
          {{ getCurrentUser()?.name?.charAt(0)?.toUpperCase() || 'U' }}
        </div>
      </div>
      <div class="user-info">
        <h4 class="user-name">{{ getCurrentUser()?.name || 'Employee' }}</h4>
        <p class="user-role">Software Developer</p>
      </div>
      <button class="logout-button" (click)="logout()" title="Logout">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Top Header -->
    <header class="main-header">
      <div class="header-content">
        <div class="header-left">
          <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
            </svg>
          </button>
          <div class="header-title">
            <h1>Dashboard</h1>
            <p>Welcome back, {{ getCurrentUser()?.name || 'Employee' }}! ðŸ‘‹</p>
          </div>
        </div>
        
        <div class="header-right">
          <div class="header-date">
            <div class="date-card">
              <span class="date-day">{{ getCurrentDateString().split(',')[0] }}</span>
              <span class="date-full">{{ getCurrentDateString().split(',').slice(1).join(',').trim() }}</span>
            </div>
          </div>
          
          <div class="header-actions">
            <button class="header-action-btn" (click)="refreshDashboard()" title="Refresh">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
              </svg>
            </button>
            
            <div class="notification-btn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
              </svg>
              <span class="notification-badge">3</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Dashboard Content -->
    <main class="dashboard-main">
      <!-- Key Metrics Row -->
      <div class="metrics-row">
        <div class="metric-card">
          <div class="metric-icon primary">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <div class="metric-content">
            <div class="metric-value">9.2h</div>
            <div class="metric-label">Today's Work</div>
            <div class="metric-change positive">+0.5h from avg</div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-icon success">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zm2-7h-3V2h-2v2H8V2H6v2H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H3V9h14v11z"/>
            </svg>
          </div>
          <div class="metric-content">
            <div class="metric-value">23</div>
            <div class="metric-label">Present Days</div>
            <div class="metric-change positive">This month</div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-icon warning">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
            </svg>
          </div>
          <div class="metric-content">
            <div class="metric-value">2</div>
            <div class="metric-label">Late Arrivals</div>
            <div class="metric-change neutral">This month</div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-icon info">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
            </svg>
          </div>
          <div class="metric-content">
            <div class="metric-value">94%</div>
            <div class="metric-label">Attendance Rate</div>
            <div class="metric-change positive">+2% from last month</div>
          </div>
        </div>
      </div>

      <!-- Main Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Clock In/Out Card -->
        <div class="dashboard-card primary-card">
          <app-employeelogin-form></app-employeelogin-form>
        </div>

        <!-- Recent Activity Card -->
        <div class="dashboard-card">
          <div class="card-header">
            <h3 class="card-title">Recent Activity</h3>
            <button class="card-menu-btn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
              </svg>
            </button>
          </div>
          <div class="card-content">
            <app-attendance-summary></app-attendance-summary>
          </div>
        </div>

        <!-- Quick Actions Card -->
        <div class="dashboard-card">
          <div class="card-header">
            <h3 class="card-title">Quick Actions</h3>
          </div>
          <div class="card-content">
            <div class="quick-actions-grid">
              <button class="quick-action-item" (click)="viewProfile()">
                <div class="action-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 9c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm6 6H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V17z"/>
                  </svg>
                </div>
                <div class="action-content">
                  <span class="action-title">View Profile</span>
                  <span class="action-desc">Update info</span>
                </div>
              </button>
              
              <button class="quick-action-item" (click)="viewPayslip()">
                <div class="action-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                  </svg>
                </div>
                <div class="action-content">
                  <span class="action-title">Download Payslip</span>
                  <span class="action-desc">Monthly salary</span>
                </div>
              </button>
              
              <button class="quick-action-item">
                <div class="action-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                  </svg>
                </div>
                <div class="action-content">
                  <span class="action-title">Reports</span>
                  <span class="action-desc">View detailed</span>
                </div>
              </button>
              
              <button class="quick-action-item">
                <div class="action-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10 2 10 2 10 2 9 2.54 8.5 3.34l-.5.68-.5-.67C6.96 2.54 6 2 5 2 3.34 2 2 3.34 2 5c0 .35.07.69.18 1H4c1.1 0 2 .9 2 2v11c0 1.1-.9 2-2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"/>
                  </svg>
                </div>
                <div class="action-content">
                  <span class="action-title">Leave Request</span>
                  <span class="action-desc">Apply for leave</span>
                </div>
              </button>
              
              <button class="quick-action-item">
                <div class="action-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                  </svg>
                </div>
                <div class="action-content">
                  <span class="action-title">Settings</span>
                  <span class="action-desc">Preferences</span>
                </div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<!-- Toast Container -->
<app-toast-container></app-toast-container>

<!-- Popup Container -->
<app-popup-container></app-popup-container>